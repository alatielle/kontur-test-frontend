<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <!--[if lte IE 9]>
      <link rel="stylesheet" type="text/css" href="css/style.ie-old.css">
      <script src="js/polyfills.js"></script>
    <![endif]-->
    <!--[if IE 8]>
      <style type="text/css">
        .controls__radio-indicator {
          display: none;
        }
      </style>
    <![endif]-->
    <script src="js/Matrix.js"></script>
    <script src="js/main.js"></script>
    <title>SKB Kontur test task</title>
  </head>
  <body>
    <form class="layout" name="matrixForm">
      <div class="layout__aside  controls">
        <div class="controls__group">
          <button type="button" class="controls__btn  controls__btn--positive" id="calcBtn" tabindex="1">
            Умножить матрицы
          </button>
        </div>
        <div class="controls__group">
          <div class="controls__line">
            <button type="reset" class="controls__btn" id="clearBtn" tabindex="1">
              <span class="icon"></span>
              Очистить матрицы
            </button>
          </div>
          <div class="controls__line">
            <button type="button" class="controls__btn" id="swapBtn" tabindex="1">
              <span class="icon"></span>
              Поменять матрицы местами
            </button>
          </div>
        </div>
        <div class="controls__group">
          <label class="controls__radio">
            <input type="radio"
                   name="matrixSelector"
                   id="choiceA"
                   class="visually-hidden"
                   value="A"
                   checked>
            <span class="controls__radio-indicator  "></span>
            Матрица A
          </label>
          <label class="controls__radio">
            <input type="radio"
                   name="matrixSelector"
                   id="choiceB"
                   class="visually-hidden"
                   value="B">
            <span class="controls__radio-indicator"></span>
            Матрица B
          </label>
          <div class="controls__line">
            <div class="controls__item">
              <button type="button" class="controls__btn" id="addRowBtn">
                <span class="icon"></span>
                Добавить
              </button>
            </div>
            <div class="controls__item">
              <button type="button" class="controls__btn" id="delRowBtn">
                <span class="icon"></span>
                Удалить
              </button>
            </div>
            <span>строку</span>
          </div>
          <div class="controls__line">
            <div class="controls__item">
              <button type="button" class="controls__btn" id="addColBtn">
                <span class="icon"></span>
                Добавить
              </button>
            </div>
            <div class="controls__item">
              <button type="button" class="controls__btn" id="delColBtn">
                <span class="icon"></span>
                Удалить
              </button>
            </div>
            <span>столбец</span>
          </div>
        </div>
        <p class="controls__error-msg  visually-hidden">
          Такие матрицы нельзя перемножить,
          так как количество столбцов матрицы A
          не равно количеству строк матрицы B.
        </p>
      </div>
      <div class="layout__main">
        <div class="layout__row">
          <table class="matrix" id="matrixC">
          </table>
          <table class="matrix" id="matrixA">
            <caption class="matrix__name  matrix__name--right">A</caption>
          </table>
        </div>
        <div class="layout__row">
          <table class="matrix" id="matrixB">
            <caption class="matrix__name  matrix__name--bottom">B</caption>
          </table>
        </div>
        <p class="nojs-msg">
          Без javascript ничего работать не будет.
          Пожалуйста, включите его.
        </p>
      </div>
    </form>
    <script>
      var msg = document.querySelector(".nojs-msg");
      msg.classList.add("visually-hidden");

      main();
    </script>
    <!--[if lte IE 9]>
      <script src="js/placeholder.polyfill.js"></script>
      <script>
        var matrices = document.querySelectorAll(".matrix");

        for (var i = 0; i < matrices.length; ++i) {
          var before = document.createElement("div");
          before.classList.add("before");
          var after = document.createElement("div");
          after.classList.add("after");
          matrices[i].insertBefore(after, matrices[i].firstElementChild);
          matrices[i].insertBefore(before, matrices[i].firstElementChild);
        }
      </script>
    <![endif]-->
    <!--[if IE 9]>
      <script>
        var greenBtns = document.querySelectorAll(".controls__btn--positive");
        var buttons = document.querySelectorAll(".controls__btn");
        var radios = document.querySelectorAll(".controls__radio-indicator");
        for (var i = 0; i < buttons.length; ++i) {
          var mask = document.createElement("div");
          mask.classList.add("mask");
          mask.classList.add("small-radius");
          buttons[i].parentNode.insertBefore(mask, buttons[i]).appendChild(buttons[i]);
        }
        for (var i = 0; i < radios.length; ++i) {
          var mask = document.createElement("div");
          mask.classList.add("mask");
          mask.classList.add("large-radius");
          radios[i].parentNode.insertBefore(mask, radios[i]).appendChild(radios[i]);
        }
        for (var i = 0; i < greenBtns.length; ++i) {
          var edge = document.createElement("span");
          edge.classList.add("edge");
          greenBtns[i].appendChild(edge);
        }
      </script>
    <![endif]-->
    <!--[if IE 8]>
      <script>
        document.getElementById("choiceA").classList.remove("visually-hidden");
        document.getElementById("choiceB").classList.remove("visually-hidden");
      </script>
    <![endif]-->
  </body>
</html>
